2025-11-28 02:29:00,440 - __main__ - INFO - Logging to: logs\nl2sql_optimization_20251128_022900.log
2025-11-28 02:29:00,440 - __main__ - INFO - ================================================================================
2025-11-28 02:29:00,440 - __main__ - INFO - DSPy NL2SQL Optimization - BootstrapFewShot - Only 15 Fixed Training Examples
2025-11-28 02:29:00,441 - __main__ - INFO - ================================================================================
2025-11-28 02:29:00,441 - __main__ - INFO - [OK] DSPy configured with Ollama
2025-11-28 02:29:00,444 - __main__ - INFO - [OK] Imported NLToSQLModule from agent.dspy_signatures
2025-11-28 02:29:00,444 - __main__ - INFO - [OK] Created training set with 15 examples
2025-11-28 02:29:00,445 - __main__ - INFO - 
================================================================================
2025-11-28 02:29:00,445 - __main__ - INFO - BEFORE: Unoptimized NL2SQL Module
2025-11-28 02:29:00,445 - __main__ - INFO - ================================================================================
2025-11-28 02:29:02,944 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:02,949 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT c.CategoryName, SUM(od.Quantity) AS TotalQuantitySold FROM Orders o JOIN [Order Details] od O
2025-11-28 02:29:03,002 - root - ERROR - Validation failed: near "BETWE": syntax error
2025-11-28 02:29:03,003 - __main__ - INFO -   [1/10] [FAIL]: During Summer Beverages 1997 (June 1-30), which pr...
2025-11-28 02:29:03,056 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:03,059 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT AVG((od.UnitPrice * od.Quantity) * (1 - IFNULL(od.Discount, 0))) AS AOV FROM Orders o JOIN [O
2025-11-28 02:29:03,060 - root - ERROR - Validation failed: near "BETWEDIR": syntax error
2025-11-28 02:29:03,061 - __main__ - INFO -   [2/10] [FAIL]: What was the Average Order Value during Winter 199...
2025-11-28 02:29:03,116 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:03,118 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT p.ProductName, SUM(od.UnitPrice * od.Quantity * (1 - od.Discount)) AS TotalRevenue FROM [Orde
2025-11-28 02:29:05,183 - __main__ - INFO -   [3/10] [OK]: Top 3 products by total revenue all-time. Revenue ...
2025-11-28 02:29:05,239 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:05,241 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT SUM((od.Quantity * (od.UnitPrice - od.Discount))) AS TotalRevenue FROM [Order Details] od JOI
2025-11-28 02:29:06,253 - __main__ - INFO -   [4/10] [OK]: Total revenue from Beverages category during Summe...
2025-11-28 02:29:06,297 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:06,299 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: WITH MarginCalc AS ( SELECT o.CustomerID, SUM((o.UnitPrice * 0.30) * o.Quantity * (1 - o.Discount)) 
2025-11-28 02:29:06,300 - root - ERROR - Validation failed: near "BETWEDIR": syntax error
2025-11-28 02:29:06,300 - __main__ - INFO -   [5/10] [FAIL]: Top customer by gross margin in 1997. CostOfGoods ...
2025-11-28 02:29:06,342 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:06,345 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT COUNT(DISTINCT od.OrderID) AS NumberOfOrders FROM Orders od WHERE od.OrderDate BETWEEN '1997-
2025-11-28 02:29:06,350 - __main__ - INFO -   [6/10] [OK]: How many orders were placed in June 1997?...
2025-11-28 02:29:06,402 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:06,404 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT p.ProductName FROM [Products] p JOIN [Categories] c ON p.CategoryID = c.CategoryID WHERE c.Ca
2025-11-28 02:29:06,406 - __main__ - INFO -   [7/10] [OK]: List all Beverages products....
2025-11-28 02:29:06,502 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:06,504 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT SUM(od.Quantity) AS TotalQuantitySold FROM [Order Details] od;
2025-11-28 02:29:06,544 - __main__ - INFO -   [8/10] [OK]: Total quantity sold across all orders....
2025-11-28 02:29:06,592 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:06,595 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT c.CategoryName, AVG(od.Discount * (1 - od.Discount)) AS AverageDiscount FROM [Order Details] 
2025-11-28 02:29:07,005 - __main__ - INFO -   [9/10] [OK]: Average discount by category....
2025-11-28 02:29:07,051 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:07,054 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT p.ProductName FROM [Order Details] od JOIN [Products] p ON od.ProductID = p.ProductID WHERE o
2025-11-28 02:29:07,500 - __main__ - INFO -   [10/10] [OK]: Which products had zero discount?...
2025-11-28 02:29:07,500 - __main__ - INFO - 
BEFORE - Valid SQL Rate: 70.0% (7/10)
2025-11-28 02:29:07,500 - __main__ - INFO - 
================================================================================
2025-11-28 02:29:07,500 - __main__ - INFO - OPTIMIZING: BootstrapFewShot with Training Examples
2025-11-28 02:29:07,501 - __main__ - INFO - ================================================================================
2025-11-28 02:29:07,501 - __main__ - INFO - Running optimization (this may take 3-5 minutes)...
2025-11-28 02:29:07,565 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT c.CategoryName, SUM(od.Quantity) AS TotalQuantitySold FROM [Order Details] od JOIN Orders o O
2025-11-28 02:29:07,710 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT ROUND(SUM(od.UnitPrice * od.Quantity * (1 - od.Discount)) / COUNT(*), 2) AS AOV FROM Orders o
2025-11-28 02:29:07,712 - root - ERROR - Validation failed: near "BETWEDIR": syntax error
2025-11-28 02:29:53,277 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:29:55,353 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:55,355 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:55,361 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT p.ProductName, ROUND(SUM(od.UnitPrice * od.Quantity * (1 - od.Discount)), 2) AS Revenue FROM 
2025-11-28 02:29:55,378 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:55,395 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:55,415 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:29:57,827 - __main__ - INFO - [OK] Optimization complete!
2025-11-28 02:29:57,827 - __main__ - INFO - 
================================================================================
2025-11-28 02:29:57,828 - __main__ - INFO - AFTER: Optimized NL2SQL Module
2025-11-28 02:29:57,828 - __main__ - INFO - ================================================================================
2025-11-28 02:31:48,829 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:31:50,889 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:31:50,890 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:31:50,899 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT c.CategoryName, SUM(od.Quantity) AS TotalSold FROM [Order Details] od JOIN Orders o ON od.Ord
2025-11-28 02:31:50,904 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:31:50,914 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:31:50,927 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:31:51,798 - __main__ - INFO -   [1/10] [OK]: During Summer Beverages 1997 (June 1-30), which pr...
2025-11-28 02:34:18,168 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:34:20,277 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:34:20,278 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:34:20,286 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT ROUND(SUM(od.UnitPrice * od.Quantity * (1 - od.Discount)) / COUNT(DISTINCT o.OrderID), 2) AS 
2025-11-28 02:34:20,293 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:34:20,306 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:34:20,317 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:34:20,550 - __main__ - INFO -   [2/10] [OK]: What was the Average Order Value during Winter 199...
2025-11-28 02:35:58,957 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:36:01,035 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:36:01,035 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:36:01,038 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT p.ProductName, ROUND(SUM(od.UnitPrice * od.Quantity * (1 - od.Discount)), 2) AS Revenue FROM 
2025-11-28 02:36:01,057 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:36:01,077 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:36:01,100 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:36:01,628 - __main__ - INFO -   [3/10] [OK]: Top 3 products by total revenue all-time. Revenue ...
2025-11-28 02:37:50,987 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:37:53,050 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:37:53,055 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:37:53,064 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT SUM(od.UnitPrice * od.Quantity * (1 - od.Discount)) AS Revenue FROM [Order Details] od JOIN P
2025-11-28 02:37:53,073 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:37:53,094 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:37:53,111 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:37:53,535 - __main__ - INFO -   [4/10] [OK]: Total revenue from Beverages category during Summe...
2025-11-28 02:40:25,612 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:40:27,692 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:40:27,696 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:40:27,698 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT c.CompanyName, SUM((od.UnitPrice * 0.70) * od.Quantity * (1 - od.Discount) * 0.30) AS GrossMa
2025-11-28 02:40:27,708 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:40:27,722 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:40:27,737 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:40:27,789 - __main__ - INFO -   [5/10] [OK]: Top customer by gross margin in 1997. CostOfGoods ...
2025-11-28 02:41:56,582 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:41:58,654 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:41:58,655 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:41:58,685 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:41:58,686 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:41:58,707 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:41:58,725 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:43:12,652 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:43:14,749 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:43:14,755 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT COUNT(DISTINCT o.OrderID) AS NumberOfOrders FROM Orders o WHERE o.OrderDate BETWEWEN '1997-06
2025-11-28 02:43:14,756 - root - ERROR - Validation failed: near "BETWEWEN": syntax error
2025-11-28 02:43:14,756 - __main__ - INFO -   [6/10] [FAIL]: How many orders were placed in June 1997?...
2025-11-28 02:43:14,767 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:43:14,810 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:43:14,843 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:43:14,860 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:44:46,696 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:44:48,785 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:44:48,798 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:44:48,811 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:44:48,818 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:44:48,840 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:44:48,859 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:45:52,581 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:45:54,653 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:45:54,666 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:45:54,672 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT p.ProductName FROM Products p JOIN Categories c ON p.CategoryID = c.CategoryID WHERE c.Catego
2025-11-28 02:45:54,674 - __main__ - INFO -   [7/10] [OK]: List all Beverages products....
2025-11-28 02:45:54,685 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:45:54,730 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:45:54,747 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:47:31,964 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:47:34,051 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:47:34,066 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:47:34,079 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:47:34,086 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:47:34,103 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:47:34,119 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:48:31,995 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:48:34,080 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:48:34,082 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:48:34,086 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT SUM(Quantity) AS TotalQuantitySold FROM OrderDetails;
2025-11-28 02:48:34,088 - root - ERROR - Validation failed: no such table: OrderDetails
2025-11-28 02:48:34,089 - __main__ - INFO -   [8/10] [FAIL]: Total quantity sold across all orders....
2025-11-28 02:48:34,105 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:48:34,133 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:48:34,155 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:50:47,244 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:50:49,313 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:50:49,315 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:50:49,335 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:50:49,342 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:50:49,351 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:50:49,372 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:52:14,100 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:52:16,197 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:52:16,198 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:52:16,201 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT c.CategoryName, ROUND(AVG(od.Discount), 2) AS AverageDiscount FROM [Order Details] od JOIN Pr
2025-11-28 02:52:16,221 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:52:16,240 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:52:16,257 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:52:16,689 - __main__ - INFO -   [9/10] [OK]: Average discount by category....
2025-11-28 02:55:25,872 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-11-28 02:55:27,943 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:55:27,954 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:55:27,960 - agent.dspy_signatures - INFO - [Attempt 1/3] Generated SQL: SELECT p.ProductName FROM [Order Details] od JOIN Products p ON od.ProductID = p.ProductID WHERE od.
2025-11-28 02:55:27,962 - root - ERROR - Validation failed: You can only execute one statement at a time.
2025-11-28 02:55:27,962 - __main__ - INFO -   [10/10] [FAIL]: Which products had zero discount?...
2025-11-28 02:55:27,963 - __main__ - INFO - 
AFTER - Valid SQL Rate: 70.0% (7/10)
2025-11-28 02:55:27,963 - __main__ - INFO - 
================================================================================
2025-11-28 02:55:27,963 - __main__ - INFO - OPTIMIZATION RESULTS
2025-11-28 02:55:27,963 - __main__ - INFO - ================================================================================
2025-11-28 02:55:27,963 - __main__ - INFO - Before: 70.0%
2025-11-28 02:55:27,963 - __main__ - INFO - After: 70.0%
2025-11-28 02:55:27,964 - __main__ - INFO - Improvement: +0.0% points (0% relative)
2025-11-28 02:55:27,964 - __main__ - INFO - 
================================================================================
2025-11-28 02:55:27,964 - __main__ - INFO - CONCLUSION
2025-11-28 02:55:27,964 - __main__ - INFO - ================================================================================
2025-11-28 02:55:27,964 - __main__ - INFO - [INFO] Optimization did not improve score.
2025-11-28 02:55:27,965 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:55:27,981 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-11-28 02:55:27,998 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
